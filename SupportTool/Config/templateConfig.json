{
    "PrintDuration": {
        "Name": "{carrierName} - Increased PrintParcel Duration",
        "Description": "Faceted PrintParcel average duration for {carrierName}",
        "Severity": "CRITICAL",
        "NrqlQuery": "SELECT average(duration) FROM Transaction WHERE name = 'WebTransaction/WCF/XLogics.BlackBox.ServiceContracts.IBlackBoxContract.PrintParcel' AND PrintOperation like '%Create%' AND host like '%-{stack}-%' AND CarrierName = '{carrierName}' FACET appName",
        "RunbookUrl": "https://auctane.atlassian.net/wiki/spaces/GSKB/pages/4314824909/Increased+print+duration",
        "Enabled": true,
        "AggregationMethod": "EVENT_FLOW",
        "AggregationDelay": 120,
        "CriticalOperator": "ABOVE",
        "CriticalThreshold": 0.5,
        "CriticalThresholdDuration": 300,
        "CriticalThresholdOccurrences": "ALL",
        "ExpirationDuration": 1200,
        "CloseViolationsOnExpiration": true,
        "ProposedValues": {
            "__comment": "Proposed value calculation = `AverageWebDuration + (StdDevMultiplier * ActualStdDev)`. MinimumStdDev prevents stable carriers from alerting too often. Thresholds keep the duration in a reasonable timeframe",
            "Method": "StdDev",
            "StdDevMultiplier": 3.0,
            "MinimumAbsoluteThreshold": 3.0,
            "MaximumAbsoluteThreshold": 10.0,
            "MinimumStdDev": 1.0,
            "SamplingDays": 7
        }
    },
    "ErrorRate": {
        "Name": "{carrierName} - Increased Error Rate",
        "Description": "Faceted Error Rate Percentage alert for {carrierName}",
        "Severity": "CRITICAL",
        "NrqlQuery": "SELECT percentage(count(*), WHERE ExitStatus = 'Error') FROM Transaction WHERE name = 'WebTransaction/WCF/XLogics.BlackBox.ServiceContracts.IBlackBoxContract.PrintParcel' AND host like '%-{stack}-%' AND CarrierName = '{carrierName}' FACET appName",
        "RunbookUrl": "https://auctane.atlassian.net/wiki/spaces/GSKB/pages/4314432205/Increased+error+rate",
        "Enabled": true,
        "AggregationMethod": "EVENT_FLOW",
        "AggregationDelay": 120,
        "CriticalOperator": "ABOVE",
        "CriticalThreshold": 5,
        "CriticalThresholdDuration": 300,
        "CriticalThresholdOccurrences": "ALL",
        "ExpirationDuration": 1200,
        "CloseViolationsOnExpiration": true
    }
}